<%- include('partials/head' , { title: 'Crear producto' , styles: [ 'header' , 'footer' , 'registro-login' ]}) %>

  <body>

    <%- include('partials/header') %>

      <div class="signupFrm" id="form-container">


        <form action="/products" method="POST" enctype="multipart/form-data">
          <h1 class="title" id="product">Crear nuevo producto</h1>

          <div class="inputContainer" id="form-product">
            <select class="input" name="products_brands_id" required>
              <option value="" font-family="oswald">Selecciona la marca</option>
              <% for( let i=0; i < brands.length; i++ ) { %>

                <option value="<%= brands[i].id %>" id="<%=brands[i].name %>">
                  <%= brands[i].name %>
                </option>
                <% } %>
            </select>
          </div>

          <div class="inputContainer" id="form-product">
            <input type="text" class="input" name="model" placeholder="a"
              value="<%= locals.oldData ? oldData.model : null %>">
            <label for="" name="model" class="label">Modelo</label>
          </div>
          <% if (locals.errors && errors.model) { %>
            <div class="msg-error">
              <%= errors.model.msg %>
            </div>
            <% } %>

              <div class="inputContainer" id="form-product">
                <input type="number" class="input" name="year" placeholder="a"
                  value="<%= locals.oldData ? oldData.year : null %>">
                <label for="" name="year" class="label">Año</label>
              </div>

              <div class="inputContainer" id="form-product">
                <input type="text" class="input" name="description"
                  value="<%= locals.oldData ? oldData.description : null %>">
                <label for="" name="description" class="label">Descripción</label>
              </div>
              <% if (locals.errors && errors.description) { %>
                <div class="msg-error">
                  <%= errors.description.msg %>
                </div>
                <% } %>

                  <div class="inputContainer" id="form-product">
                    <input type="number" class="input" name="price"
                      value="<%= locals.oldData ? oldData.price : null %>">
                    <label for="" name="price" class="label">Precio</label>
                  </div>

                  <div class="inputContainer" id="form-product">
                    <label for="" name="colors" class="label">Colores disponibles</label>
                  </div>
                  <div class="inputContainer" id="colors">

                    <% colors.forEach( color=> { %>
                      <p>
                        <input type="checkbox" name="color" id="<%= color.name %>" value="<%= color.id %>" name="color">
                        <label for="<%= color.name %>">
                          <%= color.name %>
                        </label>

                        <% }) %>
                      </p>
                  </div>
                  <% if (locals.errors && errors.color) { %>
                    <div class="msg-error">
                      <%= errors.color.msg %>
                    </div>
                    <% } %>

                  <div class="inputContainer" id="form-product">
                    <div class="input">
                      <input type="file" name="imgFile" id="Perfil" style="display:none">
                      <label class="label" for="Perfil">Seleccion Imagen De Producto</label>
                    </div>
                  </div>
                  <% if (locals.errors && errors.imgFile) { %>
                    <div class="msg-error">
                      <%= errors.imgFile.msg %>
                    </div>
                    <% } %>
                  <input type="submit" class="submitBtn" value="Crear">
        </form>
      </div>
  </body>

  <%- include('partials/footer') %>

    </html>